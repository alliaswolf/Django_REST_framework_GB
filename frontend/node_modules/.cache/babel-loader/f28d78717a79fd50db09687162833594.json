{"ast":null,"code":"import _slicedToArray from\"/home/alex/\\u0414\\u043E\\u043A\\u0443\\u043C\\u0435\\u043D\\u0442\\u044B/DRF_GB/TODO_List/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState}from\"react\";import{useParams,Link,useHistory}from\"react-router-dom\";import ProjectForm from\"./ProjectForm\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var ProjectItem=function ProjectItem(_ref){var project=_ref.project,deleteProject=_ref.deleteProject;var _useParams=useParams(),id=_useParams.id;var history=useHistory();var link;if(id){link=project.id;}else{link=/*#__PURE__*/_jsx(Link,{to:\"\".concat(history.location.pathname,\"/\").concat(project.id),children:project.id});}return/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:link}),/*#__PURE__*/_jsx(\"td\",{children:project.title}),/*#__PURE__*/_jsx(\"td\",{children:project.link}),/*#__PURE__*/_jsx(\"td\",{children:project.usersWorked.join(\", \")}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:function onClick(){return deleteProject(project.id);},children:\"Delete\"})})]});};var ProjectList=function ProjectList(_ref2){var users=_ref2.users,projects=_ref2.projects,editProject=_ref2.editProject,deleteProject=_ref2.deleteProject;var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),input=_useState2[0],setInput=_useState2[1];var _useParams2=useParams(),id=_useParams2.id;var filtered_items=projects;if(!id){filtered_items=projects.filter(function(item){return item.title===\"\"|item.title.toLowerCase().includes(input);});}return/*#__PURE__*/_jsxs(\"div\",{children:[!id&&/*#__PURE__*/_jsxs(\"div\",{className:\"row pt-3 px-3 justify-content-end\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"search_title\",className:\"col-2 justify-content-end  align-self-end\",children:\"Search title project:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"search_title\",className:\"col-3 justify-content-end  align-self-end\",placeholder:\"Search\",value:input,onChange:function onChange(e){return setInput(e.target.value);}})]}),/*#__PURE__*/_jsx(Link,{to:\"/create/project\",children:\"Create Project\"}),/*#__PURE__*/_jsxs(\"table\",{className:\"table table-bordered my-3\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"ID\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Title\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Link\"}),/*#__PURE__*/_jsx(\"th\",{children:\"UsersWorked\"}),/*#__PURE__*/_jsx(\"th\",{})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:filtered_items.map(function(project){return/*#__PURE__*/_jsx(ProjectItem,{project:project,deleteProject:deleteProject},project.id.toString());})})]}),id&&/*#__PURE__*/_jsx(ProjectForm,{users:users,titleForm:\"Edit\",editProject:editProject,idProject:id})]});};var ProjectListFilterId=function ProjectListFilterId(_ref3){var users=_ref3.users,projects=_ref3.projects,editProject=_ref3.editProject,deleteProject=_ref3.deleteProject;var _useParams3=useParams(),id=_useParams3.id;var filtered_items=projects.filter(function(item){return item.id.toString()===id;});return/*#__PURE__*/_jsx(ProjectList,{projects:filtered_items,deleteProject:deleteProject,editProject:editProject,users:users});};export{ProjectList,ProjectListFilterId};","map":{"version":3,"sources":["/home/alex/Документы/DRF_GB/TODO_List/frontend/src/components/Projects.js"],"names":["React","useState","useParams","Link","useHistory","ProjectForm","ProjectItem","project","deleteProject","id","history","link","location","pathname","title","usersWorked","join","ProjectList","users","projects","editProject","input","setInput","filtered_items","filter","item","toLowerCase","includes","e","target","value","map","toString","ProjectListFilterId"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\nimport { useParams, Link, useHistory } from \"react-router-dom\";\nimport ProjectForm from \"./ProjectForm\";\n\nconst ProjectItem = ({ project, deleteProject }) => {\n  let { id } = useParams();\n  let history = useHistory();\n  let link;\n  if (id) {\n    link = project.id;\n  } else {\n    link = (\n      <Link to={`${history.location.pathname}/${project.id}`}>\n        {project.id}\n      </Link>\n    );\n  }\n\n  return (\n    <tr>\n      <td>{link}</td>\n      <td>{project.title}</td>\n      <td>{project.link}</td>\n      <td>{project.usersWorked.join(\", \")}</td>\n      <td>\n        <button type=\"button\" onClick={() => deleteProject(project.id)}>\n          Delete\n        </button>\n      </td>\n    </tr>\n  );\n};\n\nconst ProjectList = ({ users, projects, editProject, deleteProject }) => {\n  const [input, setInput] = useState(\"\");\n  let { id } = useParams();\n  let filtered_items = projects;\n  if (!id) {\n    filtered_items = projects.filter(\n      (item) => (item.title === \"\") | item.title.toLowerCase().includes(input)\n    );\n  }\n  return (\n    <div>\n      {!id && (\n        <div className=\"row pt-3 px-3 justify-content-end\">\n          <label\n            htmlFor=\"search_title\"\n            className=\"col-2 justify-content-end  align-self-end\"\n          >\n            Search title project:\n          </label>\n          <input\n            type=\"text\"\n            name=\"search_title\"\n            className=\"col-3 justify-content-end  align-self-end\"\n            placeholder=\"Search\"\n            value={input}\n            onChange={(e) => setInput(e.target.value)}\n          />\n        </div>\n      )}\n      <Link to=\"/create/project\">Create Project</Link>\n      <table className=\"table table-bordered my-3\">\n        <thead>\n          <tr>\n            <th>ID</th>\n            <th>Title</th>\n            <th>Link</th>\n            <th>UsersWorked</th>\n            <th></th>\n          </tr>\n        </thead>\n        <tbody>\n          {filtered_items.map((project) => (\n            <ProjectItem\n              project={project}\n              deleteProject={deleteProject}\n              key={project.id.toString()}\n            />\n          ))}\n        </tbody>\n      </table>\n      {id && (\n        <ProjectForm\n          users={users}\n          titleForm=\"Edit\"\n          editProject={editProject}\n          idProject={id}\n        />\n      )}\n    </div>\n  );\n};\n\nconst ProjectListFilterId = ({\n  users,\n  projects,\n  editProject,\n  deleteProject,\n}) => {\n  let { id } = useParams();\n  let filtered_items = projects.filter((item) => item.id.toString() === id);\n  return (\n    <ProjectList\n      projects={filtered_items}\n      deleteProject={deleteProject}\n      editProject={editProject}\n      users={users}\n    />\n  );\n};\n\nexport { ProjectList, ProjectListFilterId };\n"]},"metadata":{},"sourceType":"module"}